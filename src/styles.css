@import url("https://fonts.googleapis.com/css2?family=Bungee&family=Space+Grotesk:wght@400;500;700&display=swap");

:root {
  --page-bg: radial-gradient(circle at 15% 20%, #184056 0%, #102334 33%, #081017 72%);
  --panel-bg: rgba(8, 20, 30, 0.86);
  --panel-border: rgba(109, 230, 255, 0.24);
  --text: #eaf7ff;
  --accent: #56f4ff;
  --accent-2: #ff8a3d;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  width: 100%;
  min-height: 100%;
  margin: 0;
}

body {
  font-family: "Space Grotesk", "Avenir Next", "Segoe UI", sans-serif;
  color: var(--text);
  background: var(--page-bg);
  background-attachment: fixed;
}

body::before,
body::after {
  content: "";
  position: fixed;
  z-index: -1;
  border-radius: 999px;
  filter: blur(44px);
  pointer-events: none;
}

body::before {
  width: 320px;
  height: 320px;
  left: -100px;
  top: 14vh;
  background: rgba(86, 244, 255, 0.26);
}

body::after {
  width: 360px;
  height: 360px;
  right: -120px;
  bottom: 8vh;
  background: rgba(255, 128, 61, 0.2);
}

button {
  font: inherit;
  border: 0;
  cursor: pointer;
}

.app-shell {
  width: min(1040px, calc(100vw - 2.4rem));
  margin: 2.4rem auto 3rem;
  animation: rise 550ms ease-out both;
}

.hero {
  width: min(720px, 100%);
  margin-bottom: 1.8rem;
}

.hero h1 {
  margin: 0.2rem 0 0.7rem;
  font-size: clamp(2.2rem, 5vw, 3.6rem);
  font-family: "Bungee", "Impact", fantasy;
  letter-spacing: 0.03em;
  line-height: 1;
}

.hero p {
  margin: 0;
  max-width: 60ch;
  color: rgba(233, 250, 255, 0.86);
}

.eyebrow {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: var(--accent);
  font-size: 0.8rem;
}

.hub-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
  gap: 1rem;
}

.game-card {
  background: linear-gradient(170deg, rgba(5, 19, 31, 0.9), rgba(10, 33, 47, 0.82));
  border: 1px solid var(--panel-border);
  border-radius: 16px;
  padding: 1.2rem;
  box-shadow: 0 24px 60px rgba(3, 8, 12, 0.35);
  display: grid;
  gap: 1rem;
  animation: rise 720ms ease-out both;
}

.game-card__label {
  margin: 0;
  color: rgba(188, 229, 240, 0.76);
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-size: 0.76rem;
}

.game-card h2 {
  margin: 0.45rem 0 0.5rem;
}

.game-card__description {
  margin: 0;
  color: rgba(235, 249, 255, 0.84);
}

.game-card__stats {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.8rem;
}

.game-card__stats p {
  margin: 0;
}

.ghost,
.cta {
  padding: 0.62rem 0.92rem;
  border-radius: 10px;
  transition: transform 140ms ease, filter 140ms ease;
}

.ghost {
  background: rgba(86, 244, 255, 0.08);
  color: var(--text);
  border: 1px solid rgba(86, 244, 255, 0.28);
}

.cta {
  background: linear-gradient(110deg, #51f4ff 0%, #2d96b7 100%);
  color: #03212d;
  font-weight: 700;
}

.ghost:hover,
.cta:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

.ghost:disabled {
  cursor: not-allowed;
  opacity: 0.55;
  transform: none;
}

.in-game {
  width: min(960px, calc(100vw - 1.4rem));
}

.game-view {
  display: grid;
  place-items: center;
  gap: 0.8rem;
  background: var(--panel-bg);
  border-radius: 18px;
  border: 1px solid var(--panel-border);
  padding: 1rem;
  position: relative;
  overflow: hidden;
}

.toolbar {
  width: min(100%, 760px);
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.6rem;
}

.game-canvas {
  display: block;
  width: min(100%, 420px);
  height: auto;
  border-radius: 12px;
  border: 1px solid rgba(86, 244, 255, 0.24);
  touch-action: none;
}

.tetris-canvas {
  width: min(100%, 380px);
}

.miner-canvas {
  width: min(100%, 640px);
}

.miner-stage {
  position: relative;
  width: min(100%, 640px);
}

.miner-stage .miner-canvas {
  width: 100%;
}

.miner-hud-overlay {
  position: absolute;
  top: 0.55rem;
  left: 0.55rem;
  right: 0.55rem;
  display: grid;
  grid-template-columns: 1.05fr 0.95fr 1.2fr 1.2fr;
  gap: 0.45rem;
  pointer-events: none;
  z-index: 3;
}

.miner-hud__metric,
.miner-hud__gauge {
  border: 1px solid rgba(151, 216, 243, 0.4);
  border-radius: 10px;
  background: linear-gradient(165deg, rgba(4, 19, 31, 0.88), rgba(6, 13, 22, 0.82));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04), 0 6px 18px rgba(1, 5, 8, 0.3);
  backdrop-filter: blur(1.5px);
}

.miner-hud__metric {
  padding: 0.4rem 0.54rem 0.44rem;
}

.miner-hud__label {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.63rem;
  color: rgba(182, 230, 246, 0.8);
}

.miner-hud__value {
  margin: 0.06rem 0 0;
  font-size: 1rem;
  font-weight: 700;
  line-height: 1.1;
  color: rgba(233, 252, 255, 0.96);
  text-shadow: 0 0 12px rgba(115, 232, 255, 0.2);
}

.miner-hud__gauge {
  padding: 0.35rem 0.5rem 0.4rem;
  display: grid;
  gap: 0.28rem;
}

.miner-hud__gauge-head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 0.4rem;
}

.miner-hud__gauge-value {
  margin: 0;
  font-size: 0.76rem;
  color: rgba(220, 246, 255, 0.9);
}

.miner-hud__gauge-track {
  height: 0.62rem;
  border-radius: 999px;
  background: rgba(3, 10, 18, 0.72);
  border: 1px solid rgba(130, 195, 225, 0.28);
  overflow: hidden;
  position: relative;
}

.miner-hud__gauge-fill {
  position: absolute;
  inset: 0 auto 0 0;
  height: 100%;
  border-radius: inherit;
  transition: width 140ms ease-out, filter 140ms ease-out;
}

.miner-hud__segments {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: repeat(14, minmax(0, 1fr));
  gap: 2px;
  padding: 2px;
}

.miner-hud__segment {
  border-radius: 2px;
  background: rgba(11, 26, 39, 0.9);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.04);
}

.miner-hud__segment.is-active {
  background: rgba(193, 239, 255, 0.9);
  box-shadow: 0 0 7px rgba(116, 226, 255, 0.4);
}

.miner-hud__gauge-fill--cargo {
  background: linear-gradient(90deg, #6de6ff 0%, #2fb6ff 46%, #6fffa8 100%);
  box-shadow: 0 0 14px rgba(91, 235, 255, 0.3);
}

.miner-hud__gauge-fill--fuel {
  background: linear-gradient(90deg, #ffd27a 0%, #ff9a62 52%, #ff6f56 100%);
  box-shadow: 0 0 14px rgba(255, 171, 95, 0.34);
}

.miner-hud__gauge.is-warning {
  animation: hud-warn 1.15s ease-in-out infinite;
}

.miner-hud__gauge.is-warning .miner-hud__gauge-fill--fuel {
  filter: saturate(1.15);
}

.miner-hud__gauge.is-critical {
  animation-duration: 0.58s;
}

.miner-hud__radar {
  grid-column: 1 / -1;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  border: 1px solid rgba(151, 216, 243, 0.32);
  border-radius: 8px;
  padding: 0.24rem 0.44rem;
  background: linear-gradient(180deg, rgba(4, 16, 26, 0.86), rgba(2, 10, 16, 0.86));
}

.miner-hud__radar-label {
  margin: 0;
  font-size: 0.58rem;
  text-transform: uppercase;
  letter-spacing: 0.11em;
  color: rgba(183, 229, 244, 0.76);
  white-space: nowrap;
}

.miner-hud__radar-track {
  position: relative;
  flex: 1;
  height: 0.46rem;
  border-radius: 999px;
  overflow: hidden;
  border: 1px solid rgba(130, 195, 225, 0.28);
  background: rgba(4, 12, 19, 0.74);
}

.miner-hud__radar-grid {
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    90deg,
    rgba(160, 225, 245, 0.22) 0,
    rgba(160, 225, 245, 0.22) 1px,
    transparent 1px,
    transparent 12px
  );
}

.miner-hud__radar-marker {
  position: absolute;
  top: 50%;
  width: 3px;
  height: 92%;
  transform: translate(-50%, -50%);
  border-radius: 2px;
  background: rgba(255, 231, 165, 0.95);
  box-shadow: 0 0 7px rgba(255, 209, 140, 0.5);
}

.miner-hud__radar-ping {
  position: absolute;
  top: 50%;
  width: 22px;
  height: 22px;
  border-radius: 999px;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 212, 151, 0.46);
  box-shadow: 0 0 8px rgba(255, 189, 120, 0.34);
  animation: radar-ping 1.8s ease-out infinite;
}

.game-hud {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.8rem;
  font-size: 0.95rem;
}

.game-hud p {
  margin: 0;
}

.overlay {
  position: absolute;
  inset: 0;
  background: rgba(7, 11, 15, 0.82);
  backdrop-filter: blur(3px);
  display: grid;
  place-items: center;
  text-align: center;
  gap: 0.8rem;
  padding: 1rem;
}

.overlay h2,
.overlay p {
  margin: 0;
}

.overlay__actions {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.6rem;
}

.touch-controls {
  display: grid;
  grid-template-columns: repeat(6, minmax(0, 1fr));
  gap: 0.5rem;
  width: min(100%, 680px);
}

.profile-switcher {
  width: min(100%, 760px);
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 0.45rem;
}

.profile-switcher p {
  margin: 0;
  color: rgba(235, 249, 255, 0.86);
  font-size: 0.92rem;
}

.profile-note {
  font-size: 0.82rem;
  color: rgba(188, 222, 238, 0.8);
}

.profile-pill {
  min-width: 2.4rem;
  padding-inline: 0.8rem;
}

.profile-pill.is-active {
  background: linear-gradient(110deg, #51f4ff 0%, #2d96b7 100%);
  color: #03212d;
  border-color: transparent;
  font-weight: 700;
}

.status-line {
  margin: 0;
  color: rgba(232, 247, 255, 0.86);
  text-align: center;
}

.depot-hint {
  margin: 0;
  text-align: center;
  color: rgba(190, 223, 239, 0.82);
  font-size: 0.9rem;
}

.mars-theme {
  --panel-bg: rgba(30, 12, 10, 0.88);
  --panel-border: rgba(255, 168, 124, 0.28);
  --text: #ffe9db;
  --accent: #ffb37e;
  --accent-2: #cf5b3e;
}

.mars-theme .game-view {
  background: linear-gradient(180deg, rgba(52, 19, 14, 0.9), rgba(26, 10, 8, 0.9));
}

.mars-theme .game-canvas {
  border-color: rgba(255, 178, 138, 0.36);
  box-shadow: 0 0 0 1px rgba(91, 36, 25, 0.45), 0 20px 46px rgba(0, 0, 0, 0.34);
}

.mars-theme .miner-hud__metric,
.mars-theme .miner-hud__gauge {
  border-color: rgba(255, 185, 145, 0.4);
  background: linear-gradient(165deg, rgba(50, 19, 14, 0.9), rgba(30, 10, 8, 0.86));
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.035), 0 6px 16px rgba(0, 0, 0, 0.32);
}

.mars-theme .miner-hud__label {
  color: rgba(255, 210, 183, 0.83);
}

.mars-theme .miner-hud__value {
  color: rgba(255, 234, 221, 0.96);
  text-shadow: 0 0 12px rgba(255, 169, 120, 0.24);
}

.mars-theme .miner-hud__gauge-value {
  color: rgba(255, 218, 198, 0.9);
}

.mars-theme .miner-hud__gauge-track {
  background: rgba(26, 11, 9, 0.78);
  border-color: rgba(255, 163, 122, 0.32);
}

.mars-theme .miner-hud__segment {
  background: rgba(39, 14, 11, 0.92);
  box-shadow: inset 0 0 0 1px rgba(255, 200, 169, 0.09);
}

.mars-theme .miner-hud__segment.is-active {
  background: rgba(255, 194, 140, 0.9);
  box-shadow: 0 0 7px rgba(255, 162, 102, 0.4);
}

.mars-theme .miner-hud__gauge-fill--cargo {
  background: linear-gradient(90deg, #ffbc8a 0%, #ff9566 50%, #ff6a53 100%);
  box-shadow: 0 0 12px rgba(255, 139, 95, 0.34);
}

.mars-theme .miner-hud__gauge-fill--fuel {
  background: linear-gradient(90deg, #ffe08f 0%, #ffb272 45%, #ff7f5b 100%);
  box-shadow: 0 0 12px rgba(255, 167, 106, 0.36);
}

.mars-theme .miner-hud__radar {
  border-color: rgba(255, 177, 136, 0.32);
  background: linear-gradient(180deg, rgba(57, 19, 14, 0.87), rgba(31, 10, 8, 0.87));
}

.mars-theme .miner-hud__radar-label {
  color: rgba(255, 209, 183, 0.78);
}

.mars-theme .miner-hud__radar-track {
  background: rgba(35, 13, 10, 0.82);
  border-color: rgba(255, 164, 123, 0.34);
}

.mars-theme .miner-hud__radar-grid {
  background: repeating-linear-gradient(
    90deg,
    rgba(255, 171, 131, 0.2) 0,
    rgba(255, 171, 131, 0.2) 1px,
    transparent 1px,
    transparent 12px
  );
}

.mars-theme .miner-hud__radar-marker {
  background: rgba(255, 236, 172, 0.95);
  box-shadow: 0 0 7px rgba(255, 200, 118, 0.56);
}

.mars-theme .miner-hud__radar-ping {
  border-color: rgba(255, 199, 139, 0.48);
  box-shadow: 0 0 10px rgba(255, 175, 110, 0.42);
}

.mars-theme .ghost {
  background: rgba(255, 173, 121, 0.11);
  color: #ffe7d8;
  border-color: rgba(255, 173, 121, 0.33);
}

.mars-theme .cta {
  background: linear-gradient(110deg, #ffb886 0%, #cb5c3f 100%);
  color: #2f130d;
}

.mars-theme .profile-switcher p {
  color: rgba(255, 225, 207, 0.86);
}

.mars-theme .profile-note {
  color: rgba(244, 187, 157, 0.8);
}

.mars-theme .profile-pill.is-active {
  background: linear-gradient(110deg, #ffc396 0%, #d26548 100%);
  color: #33150f;
}

.mars-theme .status-line {
  color: rgba(255, 225, 208, 0.88);
}

.mars-theme .depot-hint {
  color: rgba(243, 194, 165, 0.86);
}

.mars-theme .depot-panel {
  border-color: rgba(255, 170, 130, 0.28);
  background: rgba(35, 13, 10, 0.9);
}

.mars-theme .depot-modal {
  background: rgba(19, 8, 7, 0.66);
}

.mars-theme .sell-table {
  border-color: rgba(255, 182, 142, 0.24);
}

.mars-theme .sell-row--head {
  background: rgba(220, 108, 77, 0.2);
}

.mars-theme .sell-row--foot {
  background: rgba(220, 108, 77, 0.13);
}

.mars-theme .overlay {
  background: rgba(23, 8, 7, 0.84);
}

.upgrade-grid {
  width: min(100%, 760px);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 0.65rem;
}

.upgrade-button {
  text-align: left;
  min-height: 8.7rem;
}

.upgrade-card {
  --tier-color: #ffb886;
  display: grid;
  align-content: start;
  gap: 0.38rem;
  padding: 0.72rem;
  border-width: 1px;
  border-style: solid;
  background: linear-gradient(160deg, rgba(74, 29, 21, 0.86), rgba(57, 19, 14, 0.82));
  transition: transform 130ms ease, filter 130ms ease;
}

.upgrade-card:hover {
  transform: translateY(-1px);
  filter: brightness(1.06);
}

.upgrade-card__head {
  display: flex;
  align-items: center;
  gap: 0.46rem;
}

.upgrade-card__icon {
  min-width: 2.1rem;
  height: 1.4rem;
  border-radius: 0.38rem;
  border: 1px solid var(--tier-color);
  background: rgba(63, 18, 13, 0.58);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.69rem;
  letter-spacing: 0.08em;
  font-weight: 700;
  position: relative;
  overflow: hidden;
  box-shadow: 0 0 12px var(--tier-color);
}

.upgrade-card__icon img {
  width: 100%;
  height: 100%;
  display: block;
  image-rendering: pixelated;
  position: relative;
  z-index: 1;
}

.upgrade-card__icon::after {
  content: "";
  position: absolute;
  inset: 0;
  background: var(--tier-color);
  opacity: 0.24;
  mix-blend-mode: multiply;
  pointer-events: none;
}

.upgrade-card__icon-fallback {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  line-height: 1;
  color: #2d120b;
  position: relative;
  z-index: 1;
}

.upgrade-card__title {
  margin: 0;
  font-size: 1.02rem;
  font-weight: 700;
  text-shadow: 0 0 10px var(--tier-color);
}

.upgrade-card__tiers {
  margin: 0;
  font-size: 0.86rem;
  color: rgba(255, 214, 189, 0.87);
}

.upgrade-card__effect {
  margin: 0;
  font-size: 0.84rem;
  color: rgba(255, 206, 174, 0.84);
}

.upgrade-card__footer {
  margin-top: auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.upgrade-card__price {
  font-size: 1.08rem;
  letter-spacing: 0.01em;
}

.upgrade-card__state {
  font-size: 0.77rem;
  padding: 0.16rem 0.4rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 188, 157, 0.24);
}

.upgrade-card__state.is-affordable {
  color: #ffe7bf;
  background: rgba(125, 84, 21, 0.34);
}

.upgrade-card__state.is-unaffordable {
  color: rgba(255, 199, 176, 0.9);
  background: rgba(113, 37, 26, 0.34);
}

.upgrade-card__state.is-max {
  color: rgba(255, 219, 170, 0.9);
  background: rgba(84, 54, 18, 0.3);
}

.upgrade-card.is-unaffordable {
  opacity: 0.9;
}

.upgrade-card.is-max {
  opacity: 0.78;
}

.depot-stats-pills {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: 0.5rem;
}

.depot-stat-pill {
  border: 1px solid rgba(255, 174, 135, 0.24);
  border-radius: 10px;
  background: linear-gradient(175deg, rgba(66, 25, 18, 0.78), rgba(43, 15, 11, 0.72));
  padding: 0.46rem 0.54rem;
  display: grid;
  gap: 0.2rem;
}

.depot-stat-pill p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  font-size: 0.67rem;
  color: rgba(255, 207, 179, 0.72);
}

.depot-stat-pill strong {
  font-size: 0.97rem;
}

.depot-stat-pill span {
  font-size: 0.73rem;
  color: rgba(255, 199, 170, 0.76);
}

.rig-tier-progress {
  border: 1px solid rgba(255, 172, 133, 0.22);
  border-radius: 10px;
  background: rgba(47, 15, 11, 0.55);
  padding: 0.42rem 0.54rem;
  display: grid;
  gap: 0.34rem;
}

.rig-progress-row {
  display: grid;
  grid-template-columns: 0.9fr 1.4fr auto;
  align-items: center;
  gap: 0.45rem;
}

.rig-progress-row p {
  margin: 0;
  font-size: 0.78rem;
  color: rgba(255, 205, 178, 0.9);
}

.rig-progress-row span {
  font-size: 0.7rem;
  color: rgba(255, 190, 158, 0.8);
}

.rig-progress-track {
  height: 0.42rem;
  border-radius: 999px;
  background: rgba(43, 15, 11, 0.7);
  border: 1px solid rgba(255, 159, 118, 0.2);
  overflow: hidden;
}

.rig-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #ffbc8a 0%, #ff9566 50%, #ff6a53 100%);
  box-shadow: 0 0 8px rgba(255, 140, 95, 0.3);
}

.depot-panel {
  width: min(100%, 760px);
  border: 1px solid rgba(112, 223, 255, 0.24);
  border-radius: 14px;
  background: rgba(7, 18, 29, 0.86);
  padding: 0.8rem;
  display: grid;
  gap: 0.7rem;
}

.depot-modal {
  position: absolute;
  inset: 0;
  background: rgba(6, 12, 18, 0.62);
  backdrop-filter: blur(2px);
  display: grid;
  place-items: center;
  padding: 0.9rem;
  z-index: 7;
}

.depot-panel__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.depot-panel__header h3 {
  margin: 0;
  font-size: 1rem;
}

.depot-panel__content {
  display: grid;
  gap: 0.6rem;
}

.depot-panel__content p {
  margin: 0;
}

.fuel-terminal {
  display: grid;
  gap: 0.55rem;
}

.fuel-terminal__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.fuel-terminal__heading {
  display: inline-flex;
  align-items: center;
  gap: 0.42rem;
}

.fuel-terminal__heading p {
  margin: 0;
  font-size: 0.92rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
}

.fuel-terminal__icon {
  min-width: 2rem;
  height: 1.35rem;
  border-radius: 0.38rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  border: 1px solid rgba(255, 178, 138, 0.3);
  background: rgba(64, 23, 16, 0.62);
}

.fuel-terminal__state {
  font-size: 0.74rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  border-radius: 999px;
  border: 1px solid rgba(255, 182, 141, 0.3);
  padding: 0.2rem 0.48rem;
}

.fuel-terminal__state--ready {
  background: rgba(116, 74, 22, 0.34);
  color: rgba(255, 234, 180, 0.95);
}

.fuel-terminal__state--insufficient {
  background: rgba(108, 37, 27, 0.34);
  color: rgba(255, 198, 177, 0.93);
}

.fuel-terminal__state--full {
  background: rgba(68, 49, 23, 0.32);
  color: rgba(255, 224, 168, 0.93);
}

.fuel-terminal__metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  gap: 0.45rem;
}

.fuel-terminal__metric {
  border: 1px solid rgba(255, 177, 138, 0.24);
  border-radius: 10px;
  background: linear-gradient(175deg, rgba(66, 25, 18, 0.75), rgba(43, 15, 11, 0.7));
  padding: 0.4rem 0.48rem;
  display: grid;
  gap: 0.16rem;
}

.fuel-terminal__metric p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  font-size: 0.64rem;
  color: rgba(255, 207, 179, 0.72);
}

.fuel-terminal__metric strong {
  font-size: 0.98rem;
}

.fuel-terminal__tank {
  border: 1px solid rgba(255, 176, 136, 0.24);
  border-radius: 10px;
  background: rgba(49, 18, 13, 0.55);
  padding: 0.44rem 0.52rem;
  display: grid;
  gap: 0.25rem;
}

.fuel-terminal__tank-head {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: 0.5rem;
}

.fuel-terminal__tank-head p,
.fuel-terminal__tank-head span {
  margin: 0;
}

.fuel-terminal__tank-head p {
  text-transform: uppercase;
  letter-spacing: 0.07em;
  font-size: 0.66rem;
  color: rgba(255, 210, 183, 0.76);
}

.fuel-terminal__tank-head span {
  font-size: 0.8rem;
  color: rgba(255, 224, 204, 0.9);
}

.fuel-terminal__tank-track {
  position: relative;
  height: 0.8rem;
  border-radius: 999px;
  border: 1px solid rgba(255, 165, 123, 0.32);
  background: rgba(35, 13, 10, 0.82);
  overflow: hidden;
}

.fuel-terminal__tank-fill,
.fuel-terminal__tank-projected {
  position: absolute;
  inset: 0 auto 0 0;
  height: 100%;
  border-radius: inherit;
  transition: width 160ms ease-out;
}

.fuel-terminal__tank-fill {
  background: linear-gradient(90deg, #ffe08f 0%, #ffb272 48%, #ff7f5b 100%);
  box-shadow: 0 0 14px rgba(255, 167, 106, 0.34);
  z-index: 1;
}

.fuel-terminal__tank-projected {
  background: linear-gradient(90deg, rgba(255, 226, 163, 0.55), rgba(255, 169, 112, 0.45));
  z-index: 0;
}

.fuel-terminal__segments {
  position: absolute;
  inset: 0;
  display: grid;
  grid-template-columns: repeat(14, minmax(0, 1fr));
  gap: 2px;
  padding: 2px;
  z-index: 2;
}

.fuel-terminal__segment {
  border-radius: 2px;
  background: rgba(39, 14, 11, 0.92);
  box-shadow: inset 0 0 0 1px rgba(255, 200, 169, 0.08);
}

.fuel-terminal__segment.is-active {
  background: rgba(255, 194, 140, 0.92);
  box-shadow: 0 0 8px rgba(255, 162, 102, 0.4);
}

.fuel-terminal__segment.is-projected {
  background: rgba(255, 177, 127, 0.42);
}

.fuel-terminal__preview {
  display: flex;
  flex-wrap: wrap;
  gap: 0.55rem;
  font-size: 0.79rem;
  border: 1px solid rgba(255, 175, 137, 0.22);
  border-radius: 9px;
  background: rgba(67, 24, 17, 0.37);
  padding: 0.4rem 0.5rem;
}

.fuel-terminal__preview span {
  color: rgba(255, 209, 182, 0.9);
}

.fuel-terminal__presets {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  gap: 0.42rem;
}

.fuel-terminal__preset-btn {
  font-size: 0.82rem;
  text-align: center;
}

.fuel-terminal__cta {
  margin-top: 0.1rem;
}

.sell-table {
  border: 1px solid rgba(151, 216, 243, 0.22);
  border-radius: 10px;
  overflow: hidden;
}

.sell-summary-ribbon {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 0.45rem;
}

.sell-summary-chip {
  border: 1px solid rgba(255, 175, 137, 0.22);
  border-radius: 10px;
  background: linear-gradient(175deg, rgba(66, 25, 18, 0.75), rgba(43, 15, 11, 0.68));
  padding: 0.4rem 0.5rem;
  display: grid;
  gap: 0.1rem;
}

.sell-summary-chip p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.07em;
  font-size: 0.62rem;
  color: rgba(255, 204, 176, 0.74);
}

.sell-summary-chip strong {
  font-size: 0.96rem;
}

.sell-last-sale {
  border: 1px solid rgba(255, 185, 147, 0.26);
  border-radius: 9px;
  background: rgba(84, 33, 22, 0.38);
  padding: 0.38rem 0.5rem;
  font-size: 0.79rem;
  color: rgba(255, 222, 199, 0.94);
  animation: sell-flash 2.6s ease-out both;
}

.sell-row {
  display: grid;
  grid-template-columns: 1.55fr 0.7fr 0.55fr 0.8fr;
  gap: 0.6rem;
  padding: 0.37rem 0.56rem;
  font-size: 0.9rem;
  align-items: center;
  transition: background 120ms ease, opacity 120ms ease;
}

.sell-row.is-empty {
  opacity: 0.62;
}

.sell-row.is-active {
  background: linear-gradient(90deg, rgba(120, 42, 28, 0.32) 0%, rgba(120, 42, 28, 0) 52%);
  box-shadow: inset 3px 0 0 var(--mineral-color);
}

.sell-row span:nth-child(2),
.sell-row span:nth-child(4) {
  text-align: right;
}

.sell-row span:nth-child(3) {
  text-align: center;
}

.sell-row--head {
  background: rgba(116, 208, 243, 0.12);
  font-weight: 700;
}

.sell-row--foot {
  background: rgba(116, 208, 243, 0.08);
  font-weight: 600;
}

.sell-mineral-cell {
  display: inline-flex;
  align-items: center;
  gap: 0.45rem;
  min-width: 0;
}

.sell-row.is-active .sell-mineral-cell {
  font-weight: 600;
}

.sell-mineral-icon {
  width: 18px;
  height: 18px;
  border-radius: 4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid rgba(255, 255, 255, 0.18);
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.2);
  flex: 0 0 18px;
}

.sell-mineral-icon img {
  display: block;
  width: 100%;
  height: 100%;
  image-rendering: pixelated;
}

.sell-row.is-active .sell-mineral-icon {
  box-shadow:
    inset 0 0 0 1px rgba(0, 0, 0, 0.2),
    0 0 10px var(--mineral-color);
}

.sell-cta.is-live {
  animation: sell-cta-pulse 1.9s ease-in-out infinite;
}

.hexa-theme {
  --hexa-bg-1: #d6d5e2;
  --hexa-bg-2: #eeedf5;
  --hexa-shell: #9da3bf;
  --hexa-shell-edge: #727996;
  --hexa-shell-shadow: rgba(56, 61, 84, 0.28);
  --hexa-rim: rgba(255, 255, 255, 0.78);
}

.hexa-theme .game-view {
  background: linear-gradient(180deg, #f4f3fa, #d9d9e7 42%, #cecddd);
  border-color: rgba(128, 136, 163, 0.35);
  box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.36);
}

.hexa-theme .toolbar .ghost {
  background: rgba(255, 255, 255, 0.7);
  color: #2d3450;
  border-color: rgba(126, 134, 164, 0.45);
}

.hexa-theme .toolbar .ghost:hover {
  filter: brightness(1.04);
}

.hexa-theme .status-line {
  color: rgba(43, 52, 80, 0.88);
}

.hexa-theme .depot-hint {
  color: rgba(64, 71, 96, 0.8);
}

.hexa-hud {
  width: min(100%, 760px);
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 0.45rem;
}

.hexa-hud__chip {
  border: 1px solid rgba(123, 132, 163, 0.4);
  border-radius: 10px;
  padding: 0.42rem 0.5rem;
  background: linear-gradient(170deg, rgba(248, 248, 253, 0.96), rgba(228, 229, 241, 0.92));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.94),
    0 4px 12px rgba(72, 78, 102, 0.12);
  display: grid;
  gap: 0.12rem;
}

.hexa-hud__chip p {
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.63rem;
  color: rgba(85, 94, 124, 0.82);
}

.hexa-hud__chip strong {
  font-size: 1rem;
  line-height: 1.12;
  color: rgba(38, 44, 66, 0.95);
}

.hexa-board-shell {
  width: min(100%, 760px);
  border: 1px solid rgba(127, 135, 164, 0.45);
  border-radius: 18px;
  background:
    radial-gradient(circle at 15% 18%, rgba(255, 255, 255, 0.72), transparent 40%),
    linear-gradient(180deg, var(--hexa-bg-2), var(--hexa-bg-1));
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.92),
    0 16px 30px rgba(77, 82, 109, 0.2);
  padding: 0.95rem 1rem 1.05rem;
  position: relative;
  overflow: hidden auto;
}

.hexa-board {
  --hex-size: 44px;
  --hex-height: calc(var(--hex-size) * 0.88);
  --hex-step-x: calc(var(--hex-size) * 0.75);
  width: calc((var(--board-cols) - 1) * var(--hex-step-x) + var(--hex-size));
  height: calc(var(--board-rows) * var(--hex-height) + (var(--hex-height) * 0.5));
  min-width: fit-content;
  margin-inline: auto;
  position: relative;
  perspective: 900px;
  transform-style: preserve-3d;
}

.hexa-cell {
  width: var(--hex-size);
  height: var(--hex-height);
  position: absolute;
  left: calc(var(--hex-col) * var(--hex-step-x));
  top: calc(var(--hex-row) * var(--hex-height) + var(--hex-offset) * (var(--hex-height) * 0.5));
}

.hexa-cell__socket {
  position: absolute;
  inset: 1px;
  display: block;
  clip-path: polygon(
    25% 0%,
    75% 0%,
    100% 50%,
    75% 100%,
    25% 100%,
    0% 50%
  );
  border: 1px solid var(--hexa-shell-edge);
  background:
    radial-gradient(circle at 35% 24%, rgba(255, 255, 255, 0.42), transparent 58%),
    linear-gradient(160deg, #a8adc8 0%, var(--hexa-shell) 70%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.5),
    inset 0 -2px 0 rgba(64, 72, 102, 0.3),
    0 2px 0 rgba(94, 100, 129, 0.7);
}

.hexa-token {
  --dir-angle: 0deg;
  --token-face: #ff4b3d;
  --token-face-deep: #e1342f;
  --token-highlight: rgba(255, 255, 255, 0.55);
  --token-arrow: rgba(56, 20, 17, 0.35);
  width: auto;
  height: auto;
  display: grid;
  place-items: center;
  position: absolute;
  inset: 1px;
  border: 1px solid rgba(54, 56, 75, 0.24);
  padding: 0;
  transform-style: preserve-3d;
  transform-origin: center center;
  transform: translateY(-3px);
  background:
    radial-gradient(circle at 34% 20%, var(--token-highlight), transparent 54%),
    linear-gradient(160deg, var(--token-face), var(--token-face-deep));
  color: #1f2336;
  clip-path: polygon(
    25% 0%,
    75% 0%,
    100% 50%,
    75% 100%,
    25% 100%,
    0% 50%
  );
  transition: transform 120ms ease, filter 120ms ease;
  box-shadow:
    0 1px 0 rgba(255, 255, 255, 0.55) inset,
    0 5px 0 var(--token-face-deep),
    0 8px 12px rgba(52, 54, 76, 0.24);
  z-index: 2;
}

.hexa-token::before,
.hexa-token::after {
  content: "";
  position: absolute;
  left: 9%;
  width: 82%;
  height: 82%;
  transform: translateY(4px);
  background: var(--token-face-deep);
  opacity: 0.72;
  clip-path: inherit;
  pointer-events: none;
  z-index: -1;
}

.hexa-token::after {
  transform: translateY(7px);
  opacity: 0.42;
}

.hexa-token:hover {
  transform: translateY(-4px);
  filter: saturate(1.04);
}

.hexa-token.is-removable {
  animation: hexa-ready-pulse 1.8s ease-in-out infinite;
}

.hexa-token__arrow {
  display: inline-block;
  font-size: 1.35rem;
  font-weight: 800;
  line-height: 1;
  transform: rotateZ(var(--dir-angle));
  color: var(--token-arrow);
  text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
}

.hexa-token--flying {
  --flight-step: 0;
  --flight-hop-ms: 110ms;
  --flight-move-ms: 135ms;
  inset: auto;
  width: calc(var(--hex-size) - 2px);
  height: calc(var(--hex-height) - 2px);
  left: calc(var(--hex-col) * var(--hex-step-x) + 1px);
  top: calc(var(--hex-row) * var(--hex-height) + var(--hex-offset) * (var(--hex-height) * 0.5) + 1px);
  transform: translateY(-3px) rotateX(calc(var(--flight-step) * 0.5turn));
  transition:
    left var(--flight-move-ms) cubic-bezier(0.25, 0.78, 0.25, 1),
    top var(--flight-move-ms) cubic-bezier(0.25, 0.78, 0.25, 1),
    transform var(--flight-move-ms) cubic-bezier(0.34, 0.8, 0.3, 1);
  pointer-events: none;
  z-index: 7;
  will-change: left, top, transform;
}

.hexa-token--color-0 {
  --token-face: #ff5b4f;
  --token-face-deep: #e13831;
  --token-arrow: rgba(129, 31, 26, 0.5);
}

.hexa-token--color-1 {
  --token-face: #1f93ff;
  --token-face-deep: #1568da;
  --token-arrow: rgba(18, 53, 124, 0.48);
}

.hexa-token--color-2 {
  --token-face: #35d04f;
  --token-face-deep: #1fac3f;
  --token-arrow: rgba(24, 94, 42, 0.45);
}

.hexa-token--color-3 {
  --token-face: #ffd23f;
  --token-face-deep: #f3a90f;
  --token-arrow: rgba(120, 79, 10, 0.48);
}

.hexa-token--color-4 {
  --token-face: #ef80ff;
  --token-face-deep: #d55ced;
  --token-arrow: rgba(103, 34, 123, 0.45);
}

.hexa-token--color-5 {
  --token-face: #ffae2e;
  --token-face-deep: #ef8512;
  --token-arrow: rgba(122, 62, 12, 0.5);
}

.hexa-status {
  min-height: 1.45rem;
}

@keyframes hexa-ready-pulse {
  0%,
  100% {
    box-shadow:
      0 5px 0 var(--token-face-deep),
      0 8px 12px rgba(52, 54, 76, 0.24);
  }

  50% {
    box-shadow:
      0 5px 0 var(--token-face-deep),
      0 0 20px rgba(255, 243, 175, 0.45);
  }
}

@keyframes hud-warn {
  0%,
  100% {
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.035), 0 6px 16px rgba(0, 0, 0, 0.28);
    border-color: rgba(255, 185, 145, 0.4);
  }

  50% {
    box-shadow: inset 0 0 0 1px rgba(255, 232, 197, 0.08), 0 8px 18px rgba(0, 0, 0, 0.34);
    border-color: rgba(255, 128, 92, 0.65);
  }
}

@keyframes radar-ping {
  0% {
    opacity: 0.82;
    transform: translate(-50%, -50%) scale(0.52);
  }

  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.35);
  }
}

@keyframes sell-flash {
  0% {
    opacity: 0;
    transform: translateY(4px);
  }

  12%,
  70% {
    opacity: 1;
    transform: translateY(0);
  }

  100% {
    opacity: 0;
  }
}

@keyframes sell-cta-pulse {
  0%,
  100% {
    box-shadow: 0 0 0 rgba(255, 190, 140, 0);
    transform: translateY(0);
  }

  50% {
    box-shadow: 0 0 16px rgba(255, 178, 121, 0.28);
    transform: translateY(-1px);
  }
}

@keyframes rise {
  from {
    opacity: 0;
    transform: translateY(14px) scale(0.99);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (max-width: 640px) {
  .app-shell {
    margin-top: 1.1rem;
    width: min(100vw - 1rem, 1040px);
  }

  .hero h1 {
    font-size: clamp(1.8rem, 12vw, 2.7rem);
  }

  .game-view {
    padding: 0.7rem;
  }

  .toolbar {
    gap: 0.5rem;
  }

  .ghost,
  .cta {
    padding: 0.56rem 0.74rem;
    font-size: 0.92rem;
  }

  .touch-controls {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .miner-hud-overlay {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    top: 0.44rem;
    left: 0.44rem;
    right: 0.44rem;
    gap: 0.34rem;
  }

  .miner-hud__metric,
  .miner-hud__gauge {
    min-height: 2.4rem;
  }

  .miner-hud__value {
    font-size: 0.9rem;
  }

  .miner-hud__gauge-value {
    font-size: 0.68rem;
  }

  .miner-hud__radar-label {
    font-size: 0.52rem;
    letter-spacing: 0.08em;
  }

  .depot-stats-pills {
    grid-template-columns: 1fr;
  }

  .rig-progress-row {
    grid-template-columns: 1fr;
    gap: 0.22rem;
  }

  .upgrade-grid {
    grid-template-columns: 1fr;
  }

  .upgrade-button {
    min-height: 0;
  }

  .fuel-terminal__header {
    align-items: flex-start;
    flex-direction: column;
  }

  .fuel-terminal__metrics {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .fuel-terminal__presets {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .fuel-terminal__preview {
    flex-direction: column;
    gap: 0.25rem;
  }

  .sell-row {
    grid-template-columns: 1.4fr 0.75fr 0.5fr 0.75fr;
    gap: 0.4rem;
    font-size: 0.82rem;
  }

  .sell-summary-ribbon {
    grid-template-columns: 1fr;
  }

  .sell-mineral-icon {
    width: 15px;
    height: 15px;
    flex-basis: 15px;
  }

  .hexa-hud {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .hexa-board {
    --hex-size: 35px;
  }

  .hexa-token__arrow {
    font-size: 1.02rem;
  }
}
